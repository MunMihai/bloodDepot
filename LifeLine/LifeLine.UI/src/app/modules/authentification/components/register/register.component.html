<section>
    <ol
        class="flex items-center w-full pb-3 text-sm font-medium text-center text-gray-500 dark:text-gray-400 sm:text-base">
        <li [ngClass]="step > 0 ? 'text-green-600 dark:text-green-500' : ''" class="flex md:w-full items-center">
            <span
                class="flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:text-gray-200 dark:after:text-gray-500">
                <svg *ngIf="step > 0" class="w-3.5 h-3.5 sm:w-4 sm:h-4 mr-2.5" aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                    <path
                        d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" />
                </svg>
                <span class="mr-2" *ngIf="step <= 0">1</span>
                Personal <span class="hidden sm:inline-flex sm:ml-2">Info</span>
            </span>
        </li>
        <li [ngClass]="step > 1 ? 'text-green-600 dark:text-green-500' : ''" class="flex md:w-full items-center">
            <svg *ngIf="step > 1" class="w-3.5 h-3.5 sm:w-4 sm:h-4 mr-2.5" aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                <path
                    d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" />
            </svg>
            <span
                class="flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:text-gray-200 dark:after:text-gray-500">
                <span class="mr-2" *ngIf="step <= 1">2</span>
                Account <span class="hidden sm:inline-flex sm:ml-2">Info</span>
            </span>
        </li>
        <li [ngClass]="step > 2 ? 'text-green-600 dark:text-green-500' : ''" class="flex items-center">
            <svg *ngIf="step > 2" class="w-3.5 h-3.5 sm:w-4 sm:h-4 mr-2.5" aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                <path
                    d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" />
            </svg>
            <span class="mr-2" *ngIf="step <= 2">3</span>
            Confirmation
        </li>
    </ol>

    <!--<form [formGroup]="registerForm">
      <input type="text" formControlName="userName">
    </form>-->

    <form (ngSubmit)="submit()" [formGroup]="registerForm">
        <div *ngIf="step == 0" class="grid gap-6 mb-6 md:grid-cols-2">
            <div>
                <label for="full_name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Full
                    Name</label>
                <input type="text" id="full_name" formControlName="fullName"
                    class="bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"
                    placeholder="Ernest Hemingway">
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('fullName')?.hasError('required') && registerForm.get('fullName')?.touched">
                    Full name is required!
                </div>
            </div>
            <div>
                <label for="IDNP" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Security
                    Number</label>
                <input type="text" id="IDNP" formControlName="securityNumber"
                    class="bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"
                    placeholder="Security Number">
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('securityNumber')?.hasError('required') && registerForm.get('securityNumber')?.touched">
                    Security number is required!
                </div>

            </div>
            <div class="relative">
                <label for="countries"
                    class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Country</label>
                <label for="countries" class="absolute right-3 w-3 h-3 top-4 bottom-0 my-auto"><i
                        class="fa-solid fa-angle-down"></i></label>
                <select id="countries" formControlName="country"
                    class="appearance-none bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500">
                    <option disabled selected>Choose a country</option>
                    <option value="MD">Moldova</option>
                    <option value="RO">Romania</option>
                    <option value="US">United States</option>
                    <option value="CA">Canada</option>
                    <option value="FR">France</option>
                    <option value="DE">Germany</option>
                </select>
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('country')?.invalid && registerForm.get('country')?.touched">
                    Please select your country!
                </div>
            </div>
            <div>
                <label for="city" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">City</label>
                <input type="text" id="city" formControlName="city"
                    class="bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"
                    placeholder="Chisinau">
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('city')?.hasError('required') && registerForm.get('city')?.touched">
                    City is required!
                </div>
            </div>

            <div class="relative">
                <label for="sex" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Sex</label>
                <label for="sex" class="absolute right-3 w-3 h-3 top-4 bottom-0 my-auto"><i
                        class="fa-solid fa-angle-down"></i></label>
                <select id="sex" formControlName="gender"
                    class="appearance-none bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500">
                    <option disabled selected>Choose a gender</option>
                    <option value="M">Male</option>
                    <option value="F">Female</option>
                </select>
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('gender')?.invalid && registerForm.get('gender')?.touched">
                    Please select your gender!
                </div>
            </div>


            <div>
                <label for="birth" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Birth
                    Day</label>
                <input datepicker type="date" id="birth" formControlName="birthDay"
                    class="bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"
                    placeholder="Select birth day">
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('birthDay')?.hasError('required') && registerForm.get('birthDay')?.touched">
                    Please select your birthday!
                </div>
            </div>

            <div>
                <label for="blood_type" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Blood
                    Type</label>
                <select type="text" id="blood_type" formControlName="bloodType"
                    class="bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"
                    placeholder="O, A, B, AB">
                    <option></option>
                </select>
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('bloodType')?.invalid && registerForm.get('bloodType')?.touched">
                    Please select your blood type!
                </div>
            </div>

            <div>
                <label for="rhesus" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Rhesus</label>
                <select type="text" id="rhFactor" formControlName="rhFactor"
                    class="bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500">
                    <option></option>
                </select>
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('rhFactor')?.invalid && registerForm.get('rhFactor')?.touched">
                    Please select your rhesus factor!
                </div>
            </div>


            <div>
                <label for="phone" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Phone
                    Number</label>
                <input type="tel" id="phone" formControlName="phoneNumber"
                    class="bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"
                    placeholder="12-345-678" pattern="[0-9]{2}-[0-9]{3}-[0-9]{3}">
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('phoneNumber')?.invalid && registerForm.get('phoneNumber')?.touched">
                    Please enter a valid phone number (e.g., 12-345-678)!
                </div>
            </div>
            <div>
                <label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email
                    Address</label>
                <input type="email" id="email" formControlName="email"
                    class="bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"
                    placeholder="ernest.hemingway@gmail.com">
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('email')?.hasError('required') && registerForm.get('email')?.touched">
                    Email address is required!
                </div>
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('email')?.hasError('email') && registerForm.get('email')?.touched">
                    Invalid email format!
                </div>
            </div>
            <!--<div class="text-red-600" *ngIf="email && email.invalid && email.touched">
          This is invalid Email
        </div>-->
        </div>

        <div *ngIf="step == 1">
            <div class="mb-6">
                <label for="user_name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">User
                    Name</label>
                <input type="text" id="user_name" formControlName="userName"
                    class="bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"
                    placeholder="LifeSaver">
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('userName')?.hasError('required') && registerForm.get('userName')?.touched">
                    Please complete you username!
                </div>
            </div>
            <div class="mb-6">
                <label for="password"
                    class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Password</label>
                <input type="password" id="password" formControlName="password"
                    class="bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"
                    placeholder="•••••••••">
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('password')?.hasError('required') && registerForm.get('password')?.touched">
                    Password is required!
                </div>
                <div class="text-red-600 text-sm" *ngIf="registerForm.get('password')?.hasError('passwordLength')">
                    Password must be at least 8 characters long.
                </div>
                <div class="text-red-600 text-sm" *ngIf="registerForm.get('password')?.hasError('passwordStrength')">
                    Password must contain at least one uppercase letter, one lowercase letter, and one number.
                </div>
            </div>
            <div class="mb-6">
                <label for="confirm_password"
                    class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Confirm
                    password</label>
                <input type="password" id="confirm_password" formControlName="confirmPassword"
                    class="bg-gray-50 outline-red-500 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"
                    placeholder="•••••••••">
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('confirmPassword')?.hasError('required') && registerForm.get('confirmPassword')?.touched">
                    Please confirm your password!
                </div>
                <div class="text-red-600 text-sm"
                    *ngIf="registerForm.get('confirmPassword')?.value !== registerForm.get('password')?.value">
                    Passwords do not match!
                </div>

            </div>
            <div class="flex items-start mb-6">
                <div class="flex items-center h-5">
                    <input id="remember" type="checkbox" formControlName="agreeToTerms"
                        class="w-4 h-4 border border-gray-300 rounded bg-gray-50 accent-red-500 focus:ring-3 focus:ring-red-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-red-600 dark:ring-offset-gray-800">
                </div>
                <label for="remember" class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">I agree with the
                    <a href="#" class="text-red-600 hover:underline dark:text-red-500">terms and conditions</a>.</label>
            </div>
        </div>

        <div *ngIf="step == 2" class="text-center">
            <h3 class="text-lg font-bold pb-3 leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">
                You are
                One step away from saving lives!</h3>
        </div>

        <div *ngIf="step == 3" class="text-center">
            <h3 class="text-xl font-bold pb-3 leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">
                Congratulations, you have created your account!!! 🥳</h3>
            <p
                class="cursor-pointer text-lg font-bold pb-3 leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">
                Now you can save lives 🩸</p>
        </div>


        <div class="flex justify-between">

            <button type="button" *ngIf="step != 0 && step < 3" (click)="previous()"
                class="text-white bg-red-500 hover:bg-red-600 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-500 dark:focus:ring-red-600">Back</button>
            <button type="button" *ngIf="step < 2" (click)="next()"
                class="text-white bg-red-500 hover:bg-red-600 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-500 dark:focus:ring-red-600">Next</button>
            <button type="submit" *ngIf="step == 2"
                class="text-white bg-red-500 hover:bg-red-600 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-500 dark:focus:ring-red-600">Submit</button>
        </div>
    </form>

</section>